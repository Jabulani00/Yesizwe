<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/menu"></ion-back-button>
    </ion-buttons>
    <ion-title>Checkout</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-card class="ticket-summary">
    <ion-card-header>
      <ion-card-title>Ticket Summary</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item lines="none">
        <ion-icon name="bus-outline" slot="start"></ion-icon>
        <ion-label>
          <h2>{{ ticket.departure }} to {{ ticket.arrival }}</h2>
          <p>{{ ticket.departureTime }} - {{ ticket.arrivalTime }}</p>
        </ion-label>
      </ion-item>
      <ion-item lines="none">
        <ion-icon name="calendar-outline" slot="start"></ion-icon>
        <ion-label>
          <h2>Date</h2>
          <p>{{ ticket.date | date:'fullDate' }}</p>
        </ion-label>
      </ion-item>
      <ion-item lines="none">
        <ion-icon name="cash-outline" slot="start"></ion-icon>
        <ion-label>
          <h2>Price</h2>
          <p>R{{ ticket.price }}</p>
        </ion-label>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <form (ngSubmit)="confirmBooking()">
    <ion-card class="payment-details">
      <ion-card-header>
        <ion-card-title>Payment Details</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <ion-label position="floating">Cardholder Name</ion-label>
          <ion-input [(ngModel)]="cardholderName" name="cardholderName" required></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Card Number</ion-label>
          <ion-input [(ngModel)]="cardNumber" name="cardNumber" type="tel" required maxlength="19" (ionInput)="formatCardNumber($event)"></ion-input>
        </ion-item>
        <div class="card-info">
          <ion-item>
            <ion-label position="floating">Expiry Date</ion-label>
            <ion-input [(ngModel)]="expiryDate" name="expiryDate" type="tel" required maxlength="5" placeholder="MM/YY"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">CVV</ion-label>
            <ion-input [(ngModel)]="cvv" name="cvv" type="tel" required maxlength="3"></ion-input>
          </ion-item>
        </div>
        <div class="card-types">
          <img src="assets/visa.png" alt="Visa" class="card-logo">
          <img src="assets/mastercard.png" alt="Mastercard" class="card-logo">
        </div>
      </ion-card-content>
    </ion-card>

    <ion-button expand="block" type="submit" class="confirm-button">
      <ion-icon name="checkmark-circle-outline" slot="start"></ion-icon>
      Confirm Booking
    </ion-button>
  </form>
</ion-content>