<ion-header>
  <ion-toolbar color="primary">
    <ion-title>My Tickets</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-segment (ionChange)="segmentChanged($event)" value="pending">
    <ion-segment-button value="pending">
      <ion-label>Pending</ion-label>
    </ion-segment-button>
    <ion-segment-button value="used">
      <ion-label>Used</ion-label>
    </ion-segment-button>
    <ion-segment-button value="cancelled">
      <ion-label>Cancelled</ion-label>
    </ion-segment-button>
    <ion-segment-button value="invoices">
      <ion-label>Invoices</ion-label>
    </ion-segment-button>
  </ion-segment>

  <div class="ticket-container">
    <ion-card *ngFor="let ticket of getFilteredTickets()" class="ticket-card">
      <ion-card-header>
        <ion-card-subtitle>Ticket ID: {{ ticket.id }}</ion-card-subtitle>
        <ion-card-title>{{ ticket.from }} to {{ ticket.to }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col size="6">
              <ion-icon name="calendar-outline"></ion-icon> {{ ticket.date | date:'mediumDate' }}
            </ion-col>
            <ion-col size="6" class="ion-text-right">
              <ion-icon name="cash-outline"></ion-icon> R{{ ticket.price }}
            </ion-col>
          </ion-row>
        </ion-grid>
        <ion-badge [color]="ticket.status === 'pending' ? 'warning' : ticket.status === 'used' ? 'success' : 'danger'">
          {{ ticket.status | titlecase }}
        </ion-badge>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>